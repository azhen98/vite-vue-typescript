import{_ as B}from"./index.d8832274.js";import{f as T,n as D,x as E,S as M,p as z,y as j,o as h,G as k,t as G,g as H}from"./vendor.dc807024.js";function O(){let e=0;const c=typeof window=="undefined";let t,n;return c?(t=function(){return 0},n=function(){}):(t=window.requestAnimationFrame,n=window.cancelAnimationFrame,console.log(typeof t),typeof t!="function"&&typeof n!="function"&&(t=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,n=window.mozCancelAnimationFrame||window.cancelRequestAnimationFrame),(!t||!n)&&(t=function(f){const r=new Date().getTime(),d=Math.max(0,16-(r-e)),u=window.setTimeout(()=>{f(r+d)},d);return e=r+d,u},n=function(f){window.clearTimeout(f)})),{requestAnimationFrame:t,cancelAnimationFrame:n}}const U=T({name:"CountTo",emits:["mountedCallback","callback"],props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimal:{type:String,required:!1,default:"."},decimals:{type:Number,required:!1,default:0,validator:e=>e>=0},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Object,required:!1,default:void 0}},setup(e,c){const t=(s,l,S,w)=>S*(-Math.pow(2,-10*s/w)+1)*1024/1023+l,n=e.easingFn||t,f=s=>!isNaN(parseFloat(s)),r=(s=0,l=0)=>{const w=s.toFixed(l).split(".");let y=w[0];const $=w.length>1?e.decimal+w[1]:"",N=/(\d+)(\d{3})/;if(e.separator&&!f(e.separator))for(;N.test(y);)y=y.replace(N,"$1"+e.separator+"$2");return e.prefix+y+$+e.suffix},d=D(r(e.startVal));let u=0,x=0,o=e.duration||3e3,i=e.startVal||0,a=0,V=!1,m=0;const{requestAnimationFrame:q,cancelAnimationFrame:g}=O(),F=E(()=>e.startVal>e.endVal),A=s=>{u||(u=s);const l=s-u;x=o-l,e.useEasing?F.value?a=i-n(l,0,i-e.endVal,o):a=n(l,i,e.endVal-i,o):F.value?a=i-(i-e.endVal)*(l/o):a=i+(e.endVal-i)*(l/o),F.value?a=a<e.endVal?e.endVal:a:a=a>e.endVal?e.endVal:a,d.value=r(a),l<o?m=q(A):c.emit("callback")},_=()=>{i=e.startVal,u=0,o=e.duration,V=!1,m=q(A)},b=()=>{g(m)},v=()=>{u=0,o=+x,i=+a,q(A)},C=()=>{u=0,g(m),d.value=r(e.startVal)},R=()=>{V?(v(),V=!1):(b(),V=!0)};return M(()=>{g(m)}),z(()=>{e.autoplay&&_(),c.emit("mountedCallback")}),j(()=>e.startVal+e.endVal,()=>{e.autoplay&&_()}),{displayValue:d,start:_,pause:b,resume:v,reset:C,pauseResume:R}}});function p(e,c,t,n,f,r){return h(),k("span",null,G(e.displayValue),1)}var I=B(U,[["render",p]]);const L=T({setup(e){return(c,t)=>(h(),k("div",null,[H(I)]))}});export{L as default};
