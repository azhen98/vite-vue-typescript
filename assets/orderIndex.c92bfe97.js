import{B as y}from"./BackTop.5fbc109c.js";import{b as P}from"./response.90a9012b.js";import{_ as k}from"./index.caefc6ec.js";import{f as z,x as m,r as d,o as _,G as b,g as c,h as i,H as v,C as w,k as S,n as g,p as D,I as B,J as C,b as U,w as I,K as T}from"./vendor.dc807024.js";const A={class:"pagination-wrapper"},E=z({props:{pageSize:{default:20},total:{default:40},currentPage:{default:1}},emits:["update:pageSize","update:currentPage","change"],setup(f,{emit:t}){const o=f,p=()=>{w(()=>{t("change",{page:a.value,size:n.value})})},a=m({get:()=>o.currentPage,set(r){t("update:currentPage",r),p()}}),n=m({get:()=>o.pageSize,set(r){t("update:pageSize",r),p()}});return(r,e)=>{const s=d("el-pagination");return _(),b("div",A,[c(s,{"page-size":i(n),"onUpdate:page-size":e[0]||(e[0]=l=>v(n)?n.value=l:null),small:!0,"current-page":i(a),"onUpdate:current-page":e[1]||(e[1]=l=>v(a)?a.value=l:null),background:!0,layout:"sizes, total, prev, pager, next",total:o.total,"page-sizes":[20,40,60,80]},null,8,["page-size","current-page","total"])])}}});var F=k(E,[["__scopeId","data-v-51d054ce"]]);const L=z({setup(f){const t=S({limit:20,offset:0}),o=g([]),p=g(0),a=g(!1),n=async()=>{a.value=!0;try{const{data:e}=await P(t);e instanceof Array&&(o.value=e,p.value=e.length)}catch(e){console.log(e)}finally{a.value=!1}};D(()=>{n()});const r=()=>{n()};return(e,s)=>{const l=d("el-table-column"),h=d("el-table"),x=B("loading");return _(),b(T,null,[C((_(),U(h,{data:o.value,stripe:"",style:{width:"100%"}},{default:I(()=>[c(l,{prop:"restaurant_name",label:"restaurant_name",width:"180"}),c(l,{prop:"formatted_created_at",label:"formatted_created_at",width:"180"})]),_:1},8,["data"])),[[x,a.value]]),c(F,{currentPage:i(t).offset,"onUpdate:currentPage":s[0]||(s[0]=u=>i(t).offset=u),pageSize:i(t).limit,"onUpdate:pageSize":s[1]||(s[1]=u=>i(t).limit=u),total:p.value,onChange:r},null,8,["currentPage","pageSize","total"]),c(y,{"visibility-height":300,"back-position":50})],64)}}});export{L as default};
